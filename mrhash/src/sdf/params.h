#pragma once

// status flag for hash entry
inline constexpr int LOCK_ENTRY                     = -1;
inline constexpr int FREE_ENTRY                     = -2;
inline constexpr int NO_OFFSET                      = 0;
inline constexpr int p0                             = 73856093; // Large prime number for spatial hashing
inline constexpr int p1                             = 19349669; // Large prime number for spatial hashing
inline constexpr int p2                             = 83492791; // Large prime number for spatial hashing
inline constexpr unsigned int sdf_block_size        = 8;        // Voxel per side in a block
inline constexpr int total_sdf_block_size           = sdf_block_size * sdf_block_size * sdf_block_size; // Total voxels in a block
inline constexpr unsigned int finest_block_log2_dim = 3;                                                // Log2 of sdf_block_size
inline constexpr unsigned int octree_branching_factor    = 8;   // Branching factor for octree structure
inline constexpr unsigned int linked_list_size           = 7;   // Size of linked list for hash collisions
inline constexpr unsigned int n_threads                  = 16;  // Default CUDA block size (1D)
inline constexpr unsigned int n_threads_cam              = 32;  // CUDA block size for camera operations
inline constexpr unsigned int n_threads_reduce_hashtable = 256; // CUDA block size for reduction
inline constexpr unsigned int n_threads_subdivide        = 256; // CUDA block size for subdivision
inline constexpr unsigned int hash_bucket_size           = 10;  // Number of entries per hash bucket
inline constexpr unsigned int max_num_qtree_nodes =
  1000000; // Capacity (maximum number of leaf nodes) the quad tree subdivision may produce.
inline constexpr unsigned int qtree_leaves_capacity =
  max_num_qtree_nodes; // Adjust this if your RGB images or threshold settings regularly overflow and you need deeper subdivision.
inline constexpr unsigned int integration_weight_max  = 255;  // Maximum weight for TSDF integration
inline constexpr unsigned int max_dda_iteration_count = 1024; // Max iterations for ray traversal (DDA)
inline constexpr unsigned int n_iteration_bisection   = 3; // Bisection refinement iterations for raycasting surface intersection
inline constexpr float camera_upscaling_starving_factor         = 2.f;   // Factor controlling memory allocation aggressiveness
inline constexpr float stream_threshold                         = 0.15;  // Threshold for streaming blocks to host
inline constexpr float default_sdf_var_threshold                = 0.f;   // Variance threshold for SDF fusion
inline constexpr float default_vertices_merging_threshold       = 0.f;   // Threshold for merging close vertices
inline constexpr bool default_projective_sdf                    = true;  // Use projective data association
inline constexpr const char* default_gs_optimization_param_path = "";    // Path to GS optimization config
inline constexpr float SDFBlocks_ratio                          = 0.70;  // Fraction of GPU memory for SDF blocks
inline constexpr float mesh_ratio                               = 0.25;  // Fraction of GPU memory for mesh
inline constexpr float radius_scale_chunk                       = 10.0;  // Scaling factor for chunk radius
inline constexpr float SDFBlocks_stream_ratio                   = 0.10;  // Fraction of memory for streaming buffer
inline constexpr float gs_scaling_ratio                         = 0.20;  // Fraction of memory for Gaussian Splatting
inline constexpr float FLOAT_EPSILON                            = 1e-6f; // Small epsilon for floating-point comparisons

inline constexpr unsigned vertex_offset_camera              = 8;
__device__ constexpr int3 vert_offset[vertex_offset_camera] = {
  {0, 0, 0},
  {0, 0, (sdf_block_size - 1)},
  {0, (sdf_block_size - 1), 0},
  {0, (sdf_block_size - 1), (sdf_block_size - 1)},
  {(sdf_block_size - 1), 0, 0},
  {(sdf_block_size - 1), 0, (sdf_block_size - 1)},
  {(sdf_block_size - 1), (sdf_block_size - 1), 0},
  {(sdf_block_size - 1), (sdf_block_size - 1), (sdf_block_size - 1)}};

inline constexpr unsigned int neighbor_voxels               = 6;
__device__ constexpr int3 neighbor_offsets[neighbor_voxels] = {
  {1, 0, 0},
  {0, 1, 0},
  {0, 0, 1},
  {-1, 0, 0},
  {0, -1, 0},
  {0, 0, -1},
};

#define RESOLVE_COLLISION

#define RESOLVE_CONFLICT_ALLOCATIONS

#ifndef sint
typedef signed int sint;
#endif

#ifndef uint
typedef unsigned int uint;
#endif

#ifndef slong
typedef signed long slong;
#endif

#ifndef ulong
typedef unsigned long ulong;
#endif

#ifndef uchar
typedef unsigned char uchar;
#endif

#ifndef schar
typedef signed char schar;
#endif

// ==============================================
//
// Transvoxel Algorithm Data Tables
// https://transvoxel.org/
//
// Copyright 2009 by Eric Lengyel
//
// ==============================================

// The RegularCellData structure holds information about the triangulation
// used for a single equivalence class in the modified Marching Cubes algorithm,
// described in Section 3.2.

struct RegularCellData {
  unsigned char geometryCounts;  // High nibble is vertex count, low nibble is triangle count.
  unsigned char vertexIndex[15]; // Groups of 3 indexes giving the triangulation.

  __device__ int getVertexCount(void) const {
    return (geometryCounts >> 4);
  }

  __device__ int getTriangleCount(void) const {
    return (geometryCounts & 0x0F);
  }
};

// The TransitionCellData structure holds information about the triangulation
// used for a single equivalence class in the Transvoxel Algorithm transition cell,
// described in Section 4.3.

struct TransitionCellData {
  long geometryCounts;           // High nibble is vertex count, low nibble is triangle count.
  unsigned char vertexIndex[36]; // Groups of 3 indexes giving the triangulation.

  __device__ int getVertexCount(void) const {
    return (geometryCounts >> 4);
  }

  __device__ int getTriangleCount(void) const {
    return (geometryCounts & 0x0F);
  }
};

// The regularCellClass table maps an 8-bit regular Marching Cubes case index to
// an equivalence class index. Even though there are 18 equivalence classes in our
// modified Marching Cubes algorithm, a couple of them use the same exact triangulations,
// just with different vertex locations. We combined those classes for this table so
// that the class index ranges from 0 to 15.

__device__ const unsigned char regularCellClass[256] = {
  0x00, 0x01, 0x01, 0x03, 0x01, 0x03, 0x02, 0x04, 0x01, 0x02, 0x03, 0x04, 0x03, 0x04, 0x04, 0x03, 0x01, 0x03, 0x02, 0x04,
  0x02, 0x04, 0x06, 0x0C, 0x02, 0x05, 0x05, 0x0B, 0x05, 0x0A, 0x07, 0x04, 0x01, 0x02, 0x03, 0x04, 0x02, 0x05, 0x05, 0x0A,
  0x02, 0x06, 0x04, 0x0C, 0x05, 0x07, 0x0B, 0x04, 0x03, 0x04, 0x04, 0x03, 0x05, 0x0B, 0x07, 0x04, 0x05, 0x07, 0x0A, 0x04,
  0x08, 0x0E, 0x0E, 0x03, 0x01, 0x02, 0x02, 0x05, 0x03, 0x04, 0x05, 0x0B, 0x02, 0x06, 0x05, 0x07, 0x04, 0x0C, 0x0A, 0x04,
  0x03, 0x04, 0x05, 0x0A, 0x04, 0x03, 0x07, 0x04, 0x05, 0x07, 0x08, 0x0E, 0x0B, 0x04, 0x0E, 0x03, 0x02, 0x06, 0x05, 0x07,
  0x05, 0x07, 0x08, 0x0E, 0x06, 0x09, 0x07, 0x0F, 0x07, 0x0F, 0x0E, 0x0D, 0x04, 0x0C, 0x0B, 0x04, 0x0A, 0x04, 0x0E, 0x03,
  0x07, 0x0F, 0x0E, 0x0D, 0x0E, 0x0D, 0x02, 0x01, 0x01, 0x02, 0x02, 0x05, 0x02, 0x05, 0x06, 0x07, 0x03, 0x05, 0x04, 0x0A,
  0x04, 0x0B, 0x0C, 0x04, 0x02, 0x05, 0x06, 0x07, 0x06, 0x07, 0x09, 0x0F, 0x05, 0x08, 0x07, 0x0E, 0x07, 0x0E, 0x0F, 0x0D,
  0x03, 0x05, 0x04, 0x0B, 0x05, 0x08, 0x07, 0x0E, 0x04, 0x07, 0x03, 0x04, 0x0A, 0x0E, 0x04, 0x03, 0x04, 0x0A, 0x0C, 0x04,
  0x07, 0x0E, 0x0F, 0x0D, 0x0B, 0x0E, 0x04, 0x03, 0x0E, 0x02, 0x0D, 0x01, 0x03, 0x05, 0x05, 0x08, 0x04, 0x0A, 0x07, 0x0E,
  0x04, 0x07, 0x0B, 0x0E, 0x03, 0x04, 0x04, 0x03, 0x04, 0x0B, 0x07, 0x0E, 0x0C, 0x04, 0x0F, 0x0D, 0x0A, 0x0E, 0x0E, 0x02,
  0x04, 0x03, 0x0D, 0x01, 0x04, 0x07, 0x0A, 0x0E, 0x0B, 0x0E, 0x0E, 0x02, 0x0C, 0x0F, 0x04, 0x0D, 0x04, 0x0D, 0x03, 0x01,
  0x03, 0x04, 0x04, 0x03, 0x04, 0x03, 0x0D, 0x01, 0x04, 0x0D, 0x03, 0x01, 0x03, 0x01, 0x01, 0x00};

// The regularCellData table holds the triangulation data for all 16 distinct classes to
// which a case can be mapped by the regularCellClass table.

__device__ const RegularCellData regularCellData[16] = {{0x00, {}},
                                                        {0x31, {0, 1, 2}},
                                                        {0x62, {0, 1, 2, 3, 4, 5}},
                                                        {0x42, {0, 1, 2, 0, 2, 3}},
                                                        {0x53, {0, 1, 4, 1, 3, 4, 1, 2, 3}},
                                                        {0x73, {0, 1, 2, 0, 2, 3, 4, 5, 6}},
                                                        {0x93, {0, 1, 2, 3, 4, 5, 6, 7, 8}},
                                                        {0x84, {0, 1, 4, 1, 3, 4, 1, 2, 3, 5, 6, 7}},
                                                        {0x84, {0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7}},
                                                        {0xC4, {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11}},
                                                        {0x64, {0, 4, 5, 0, 1, 4, 1, 3, 4, 1, 2, 3}},
                                                        {0x64, {0, 5, 4, 0, 4, 1, 1, 4, 3, 1, 3, 2}},
                                                        {0x64, {0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3}},
                                                        {0x64, {0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5}},
                                                        {0x75, {0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 4, 5, 0, 5, 6}},
                                                        {0x95, {0, 4, 5, 0, 3, 4, 0, 1, 3, 1, 2, 3, 6, 7, 8}}};

// The regularVertexData table gives the vertex locations for every one of the 256 possible
// cases in the modified Marching Cubes algorithm. Each 16-bit value also provides information
// about whether a vertex can be reused from a neighboring cell. See Section 3.3 for details.
// The low byte contains the indexes for the two endpoints of the edge on which the vertex lies,
// as numbered in Figure 3.7. The high byte contains the vertex reuse data shown in Figure 3.8.

__device__ const unsigned short regularVertexData[256][12] = {
  {},
  {0x6201, 0x5102, 0x3304},
  {0x6201, 0x2315, 0x4113},
  {0x5102, 0x3304, 0x2315, 0x4113},
  {0x5102, 0x4223, 0x1326},
  {0x3304, 0x6201, 0x4223, 0x1326},
  {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326},
  {0x4223, 0x1326, 0x3304, 0x2315, 0x4113},
  {0x4113, 0x8337, 0x4223},
  {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337},
  {0x6201, 0x2315, 0x8337, 0x4223},
  {0x5102, 0x3304, 0x2315, 0x8337, 0x4223},
  {0x5102, 0x4113, 0x8337, 0x1326},
  {0x4113, 0x8337, 0x1326, 0x3304, 0x6201},
  {0x6201, 0x2315, 0x8337, 0x1326, 0x5102},
  {0x3304, 0x2315, 0x8337, 0x1326},
  {0x3304, 0x1146, 0x2245},
  {0x6201, 0x5102, 0x1146, 0x2245},
  {0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245},
  {0x2315, 0x4113, 0x5102, 0x1146, 0x2245},
  {0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245},
  {0x1146, 0x2245, 0x6201, 0x4223, 0x1326},
  {0x3304, 0x1146, 0x2245, 0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326},
  {0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x4113},
  {0x4223, 0x4113, 0x8337, 0x3304, 0x1146, 0x2245},
  {0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8337},
  {0x4223, 0x6201, 0x2315, 0x8337, 0x3304, 0x1146, 0x2245},
  {0x4223, 0x8337, 0x2315, 0x2245, 0x1146, 0x5102},
  {0x5102, 0x4113, 0x8337, 0x1326, 0x3304, 0x1146, 0x2245},
  {0x4113, 0x8337, 0x1326, 0x1146, 0x2245, 0x6201},
  {0x6201, 0x2315, 0x8337, 0x1326, 0x5102, 0x3304, 0x1146, 0x2245},
  {0x2245, 0x2315, 0x8337, 0x1326, 0x1146},
  {0x2315, 0x2245, 0x8157},
  {0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157},
  {0x4113, 0x6201, 0x2245, 0x8157},
  {0x2245, 0x8157, 0x4113, 0x5102, 0x3304},
  {0x5102, 0x4223, 0x1326, 0x2315, 0x2245, 0x8157},
  {0x6201, 0x4223, 0x1326, 0x3304, 0x2315, 0x2245, 0x8157},
  {0x6201, 0x2245, 0x8157, 0x4113, 0x5102, 0x4223, 0x1326},
  {0x4223, 0x1326, 0x3304, 0x2245, 0x8157, 0x4113},
  {0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
  {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
  {0x8337, 0x4223, 0x6201, 0x2245, 0x8157},
  {0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x4223},
  {0x5102, 0x4113, 0x8337, 0x1326, 0x2315, 0x2245, 0x8157},
  {0x4113, 0x8337, 0x1326, 0x3304, 0x6201, 0x2315, 0x2245, 0x8157},
  {0x5102, 0x1326, 0x8337, 0x8157, 0x2245, 0x6201},
  {0x8157, 0x8337, 0x1326, 0x3304, 0x2245},
  {0x2315, 0x3304, 0x1146, 0x8157},
  {0x6201, 0x5102, 0x1146, 0x8157, 0x2315},
  {0x3304, 0x1146, 0x8157, 0x4113, 0x6201},
  {0x4113, 0x5102, 0x1146, 0x8157},
  {0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4223, 0x1326},
  {0x1326, 0x4223, 0x6201, 0x2315, 0x8157, 0x1146},
  {0x3304, 0x1146, 0x8157, 0x4113, 0x6201, 0x5102, 0x4223, 0x1326},
  {0x1326, 0x1146, 0x8157, 0x4113, 0x4223},
  {0x2315, 0x3304, 0x1146, 0x8157, 0x4223, 0x4113, 0x8337},
  {0x6201, 0x5102, 0x1146, 0x8157, 0x2315, 0x4223, 0x4113, 0x8337},
  {0x3304, 0x1146, 0x8157, 0x8337, 0x4223, 0x6201},
  {0x4223, 0x5102, 0x1146, 0x8157, 0x8337},
  {0x2315, 0x3304, 0x1146, 0x8157, 0x5102, 0x4113, 0x8337, 0x1326},
  {0x6201, 0x4113, 0x8337, 0x1326, 0x1146, 0x8157, 0x2315},
  {0x6201, 0x3304, 0x1146, 0x8157, 0x8337, 0x1326, 0x5102},
  {0x1326, 0x1146, 0x8157, 0x8337},
  {0x1326, 0x8267, 0x1146},
  {0x6201, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146},
  {0x5102, 0x3304, 0x2315, 0x4113, 0x1326, 0x8267, 0x1146},
  {0x5102, 0x4223, 0x8267, 0x1146},
  {0x3304, 0x6201, 0x4223, 0x8267, 0x1146},
  {0x5102, 0x4223, 0x8267, 0x1146, 0x6201, 0x2315, 0x4113},
  {0x1146, 0x8267, 0x4223, 0x4113, 0x2315, 0x3304},
  {0x4113, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
  {0x5102, 0x3304, 0x2315, 0x8337, 0x4223, 0x1326, 0x8267, 0x1146},
  {0x8267, 0x1146, 0x5102, 0x4113, 0x8337},
  {0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304},
  {0x6201, 0x2315, 0x8337, 0x8267, 0x1146, 0x5102},
  {0x1146, 0x3304, 0x2315, 0x8337, 0x8267},
  {0x3304, 0x1326, 0x8267, 0x2245},
  {0x1326, 0x8267, 0x2245, 0x6201, 0x5102},
  {0x3304, 0x1326, 0x8267, 0x2245, 0x6201, 0x2315, 0x4113},
  {0x1326, 0x8267, 0x2245, 0x2315, 0x4113, 0x5102},
  {0x5102, 0x4223, 0x8267, 0x2245, 0x3304},
  {0x6201, 0x4223, 0x8267, 0x2245},
  {0x5102, 0x4223, 0x8267, 0x2245, 0x3304, 0x6201, 0x2315, 0x4113},
  {0x4113, 0x4223, 0x8267, 0x2245, 0x2315},
  {0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x4113, 0x8337},
  {0x1326, 0x8267, 0x2245, 0x6201, 0x5102, 0x4223, 0x4113, 0x8337},
  {0x3304, 0x1326, 0x8267, 0x2245, 0x4223, 0x6201, 0x2315, 0x8337},
  {0x5102, 0x1326, 0x8267, 0x2245, 0x2315, 0x8337, 0x4223},
  {0x3304, 0x2245, 0x8267, 0x8337, 0x4113, 0x5102},
  {0x8337, 0x8267, 0x2245, 0x6201, 0x4113},
  {0x5102, 0x6201, 0x2315, 0x8337, 0x8267, 0x2245, 0x3304},
  {0x2315, 0x8337, 0x8267, 0x2245},
  {0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x5102, 0x3304, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x2245, 0x8157, 0x4113, 0x1326, 0x8267, 0x1146},
  {0x2245, 0x8157, 0x4113, 0x5102, 0x3304, 0x1326, 0x8267, 0x1146},
  {0x4223, 0x8267, 0x1146, 0x5102, 0x2315, 0x2245, 0x8157},
  {0x3304, 0x6201, 0x4223, 0x8267, 0x1146, 0x2315, 0x2245, 0x8157},
  {0x4223, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157, 0x4113},
  {0x3304, 0x2245, 0x8157, 0x4113, 0x4223, 0x8267, 0x1146},
  {0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
  {0x6201, 0x5102, 0x3304, 0x4223, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
  {0x8337, 0x4223, 0x6201, 0x2245, 0x8157, 0x1326, 0x8267, 0x1146},
  {0x4223, 0x5102, 0x3304, 0x2245, 0x8157, 0x8337, 0x1326, 0x8267, 0x1146},
  {0x8267, 0x1146, 0x5102, 0x4113, 0x8337, 0x2315, 0x2245, 0x8157},
  {0x6201, 0x4113, 0x8337, 0x8267, 0x1146, 0x3304, 0x2315, 0x2245, 0x8157},
  {0x8337, 0x8267, 0x1146, 0x5102, 0x6201, 0x2245, 0x8157},
  {0x3304, 0x2245, 0x8157, 0x8337, 0x8267, 0x1146},
  {0x8157, 0x2315, 0x3304, 0x1326, 0x8267},
  {0x8267, 0x8157, 0x2315, 0x6201, 0x5102, 0x1326},
  {0x8267, 0x1326, 0x3304, 0x6201, 0x4113, 0x8157},
  {0x8267, 0x8157, 0x4113, 0x5102, 0x1326},
  {0x5102, 0x4223, 0x8267, 0x8157, 0x2315, 0x3304},
  {0x2315, 0x6201, 0x4223, 0x8267, 0x8157},
  {0x3304, 0x5102, 0x4223, 0x8267, 0x8157, 0x4113, 0x6201},
  {0x4113, 0x4223, 0x8267, 0x8157},
  {0x8157, 0x2315, 0x3304, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337},
  {0x8157, 0x2315, 0x6201, 0x5102, 0x1326, 0x8267, 0x4223, 0x4113, 0x8337},
  {0x8157, 0x8337, 0x4223, 0x6201, 0x3304, 0x1326, 0x8267},
  {0x5102, 0x1326, 0x8267, 0x8157, 0x8337, 0x4223},
  {0x8267, 0x8157, 0x2315, 0x3304, 0x5102, 0x4113, 0x8337},
  {0x6201, 0x4113, 0x8337, 0x8267, 0x8157, 0x2315},
  {0x6201, 0x3304, 0x5102, 0x8337, 0x8267, 0x8157},
  {0x8337, 0x8267, 0x8157},
  {0x8337, 0x8157, 0x8267},
  {0x6201, 0x5102, 0x3304, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
  {0x5102, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
  {0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
  {0x4223, 0x1326, 0x3304, 0x2315, 0x4113, 0x8337, 0x8157, 0x8267},
  {0x4113, 0x8157, 0x8267, 0x4223},
  {0x4223, 0x4113, 0x8157, 0x8267, 0x6201, 0x5102, 0x3304},
  {0x8157, 0x8267, 0x4223, 0x6201, 0x2315},
  {0x3304, 0x2315, 0x8157, 0x8267, 0x4223, 0x5102},
  {0x1326, 0x5102, 0x4113, 0x8157, 0x8267},
  {0x8157, 0x4113, 0x6201, 0x3304, 0x1326, 0x8267},
  {0x1326, 0x5102, 0x6201, 0x2315, 0x8157, 0x8267},
  {0x8267, 0x1326, 0x3304, 0x2315, 0x8157},
  {0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x2315, 0x4113, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x2315, 0x4113, 0x5102, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x1146, 0x2245, 0x6201, 0x4223, 0x1326, 0x8337, 0x8157, 0x8267},
  {0x6201, 0x2315, 0x4113, 0x5102, 0x4223, 0x1326, 0x3304, 0x1146, 0x2245, 0x8337, 0x8157, 0x8267},
  {0x4113, 0x4223, 0x1326, 0x1146, 0x2245, 0x2315, 0x8337, 0x8157, 0x8267},
  {0x4223, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245},
  {0x6201, 0x5102, 0x1146, 0x2245, 0x4223, 0x4113, 0x8157, 0x8267},
  {0x8157, 0x8267, 0x4223, 0x6201, 0x2315, 0x3304, 0x1146, 0x2245},
  {0x2315, 0x8157, 0x8267, 0x4223, 0x5102, 0x1146, 0x2245},
  {0x1326, 0x5102, 0x4113, 0x8157, 0x8267, 0x3304, 0x1146, 0x2245},
  {0x1326, 0x1146, 0x2245, 0x6201, 0x4113, 0x8157, 0x8267},
  {0x5102, 0x6201, 0x2315, 0x8157, 0x8267, 0x1326, 0x3304, 0x1146, 0x2245},
  {0x1326, 0x1146, 0x2245, 0x2315, 0x8157, 0x8267},
  {0x2315, 0x2245, 0x8267, 0x8337},
  {0x2315, 0x2245, 0x8267, 0x8337, 0x6201, 0x5102, 0x3304},
  {0x4113, 0x6201, 0x2245, 0x8267, 0x8337},
  {0x5102, 0x4113, 0x8337, 0x8267, 0x2245, 0x3304},
  {0x2315, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326},
  {0x6201, 0x4223, 0x1326, 0x3304, 0x8337, 0x2315, 0x2245, 0x8267},
  {0x4113, 0x6201, 0x2245, 0x8267, 0x8337, 0x5102, 0x4223, 0x1326},
  {0x4113, 0x4223, 0x1326, 0x3304, 0x2245, 0x8267, 0x8337},
  {0x2315, 0x2245, 0x8267, 0x4223, 0x4113},
  {0x2315, 0x2245, 0x8267, 0x4223, 0x4113, 0x6201, 0x5102, 0x3304},
  {0x6201, 0x2245, 0x8267, 0x4223},
  {0x3304, 0x2245, 0x8267, 0x4223, 0x5102},
  {0x5102, 0x4113, 0x2315, 0x2245, 0x8267, 0x1326},
  {0x4113, 0x2315, 0x2245, 0x8267, 0x1326, 0x3304, 0x6201},
  {0x5102, 0x6201, 0x2245, 0x8267, 0x1326},
  {0x3304, 0x2245, 0x8267, 0x1326},
  {0x8267, 0x8337, 0x2315, 0x3304, 0x1146},
  {0x5102, 0x1146, 0x8267, 0x8337, 0x2315, 0x6201},
  {0x3304, 0x1146, 0x8267, 0x8337, 0x4113, 0x6201},
  {0x8337, 0x4113, 0x5102, 0x1146, 0x8267},
  {0x8267, 0x8337, 0x2315, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326},
  {0x1146, 0x8267, 0x8337, 0x2315, 0x6201, 0x4223, 0x1326},
  {0x8267, 0x8337, 0x4113, 0x6201, 0x3304, 0x1146, 0x5102, 0x4223, 0x1326},
  {0x4113, 0x4223, 0x1326, 0x1146, 0x8267, 0x8337},
  {0x3304, 0x2315, 0x4113, 0x4223, 0x8267, 0x1146},
  {0x2315, 0x6201, 0x5102, 0x1146, 0x8267, 0x4223, 0x4113},
  {0x1146, 0x8267, 0x4223, 0x6201, 0x3304},
  {0x5102, 0x1146, 0x8267, 0x4223},
  {0x8267, 0x1326, 0x5102, 0x4113, 0x2315, 0x3304, 0x1146},
  {0x6201, 0x4113, 0x2315, 0x1326, 0x1146, 0x8267},
  {0x6201, 0x3304, 0x1146, 0x8267, 0x1326, 0x5102},
  {0x1326, 0x1146, 0x8267},
  {0x1326, 0x8337, 0x8157, 0x1146},
  {0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304},
  {0x8337, 0x8157, 0x1146, 0x1326, 0x6201, 0x2315, 0x4113},
  {0x4113, 0x5102, 0x3304, 0x2315, 0x1326, 0x8337, 0x8157, 0x1146},
  {0x8337, 0x8157, 0x1146, 0x5102, 0x4223},
  {0x6201, 0x4223, 0x8337, 0x8157, 0x1146, 0x3304},
  {0x8337, 0x8157, 0x1146, 0x5102, 0x4223, 0x6201, 0x2315, 0x4113},
  {0x4223, 0x8337, 0x8157, 0x1146, 0x3304, 0x2315, 0x4113},
  {0x4223, 0x4113, 0x8157, 0x1146, 0x1326},
  {0x4223, 0x4113, 0x8157, 0x1146, 0x1326, 0x6201, 0x5102, 0x3304},
  {0x1146, 0x8157, 0x2315, 0x6201, 0x4223, 0x1326},
  {0x4223, 0x5102, 0x3304, 0x2315, 0x8157, 0x1146, 0x1326},
  {0x4113, 0x8157, 0x1146, 0x5102},
  {0x6201, 0x4113, 0x8157, 0x1146, 0x3304},
  {0x2315, 0x8157, 0x1146, 0x5102, 0x6201},
  {0x2315, 0x8157, 0x1146, 0x3304},
  {0x2245, 0x3304, 0x1326, 0x8337, 0x8157},
  {0x6201, 0x2245, 0x8157, 0x8337, 0x1326, 0x5102},
  {0x2245, 0x3304, 0x1326, 0x8337, 0x8157, 0x6201, 0x2315, 0x4113},
  {0x2245, 0x2315, 0x4113, 0x5102, 0x1326, 0x8337, 0x8157},
  {0x4223, 0x8337, 0x8157, 0x2245, 0x3304, 0x5102},
  {0x8157, 0x2245, 0x6201, 0x4223, 0x8337},
  {0x2245, 0x3304, 0x5102, 0x4223, 0x8337, 0x8157, 0x4113, 0x6201, 0x2315},
  {0x4223, 0x8337, 0x8157, 0x2245, 0x2315, 0x4113},
  {0x4113, 0x8157, 0x2245, 0x3304, 0x1326, 0x4223},
  {0x1326, 0x4223, 0x4113, 0x8157, 0x2245, 0x6201, 0x5102},
  {0x8157, 0x2245, 0x3304, 0x1326, 0x4223, 0x6201, 0x2315},
  {0x5102, 0x1326, 0x4223, 0x2315, 0x8157, 0x2245},
  {0x3304, 0x5102, 0x4113, 0x8157, 0x2245},
  {0x4113, 0x8157, 0x2245, 0x6201},
  {0x5102, 0x6201, 0x2315, 0x8157, 0x2245, 0x3304},
  {0x2315, 0x8157, 0x2245},
  {0x1146, 0x1326, 0x8337, 0x2315, 0x2245},
  {0x1146, 0x1326, 0x8337, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304},
  {0x6201, 0x2245, 0x1146, 0x1326, 0x8337, 0x4113},
  {0x2245, 0x1146, 0x1326, 0x8337, 0x4113, 0x5102, 0x3304},
  {0x5102, 0x1146, 0x2245, 0x2315, 0x8337, 0x4223},
  {0x1146, 0x3304, 0x6201, 0x4223, 0x8337, 0x2315, 0x2245},
  {0x8337, 0x4113, 0x6201, 0x2245, 0x1146, 0x5102, 0x4223},
  {0x4223, 0x8337, 0x4113, 0x3304, 0x2245, 0x1146},
  {0x4113, 0x2315, 0x2245, 0x1146, 0x1326, 0x4223},
  {0x1146, 0x1326, 0x4223, 0x4113, 0x2315, 0x2245, 0x6201, 0x5102, 0x3304},
  {0x1326, 0x4223, 0x6201, 0x2245, 0x1146},
  {0x4223, 0x5102, 0x3304, 0x2245, 0x1146, 0x1326},
  {0x2245, 0x1146, 0x5102, 0x4113, 0x2315},
  {0x4113, 0x2315, 0x2245, 0x1146, 0x3304, 0x6201},
  {0x6201, 0x2245, 0x1146, 0x5102},
  {0x3304, 0x2245, 0x1146},
  {0x3304, 0x1326, 0x8337, 0x2315},
  {0x5102, 0x1326, 0x8337, 0x2315, 0x6201},
  {0x6201, 0x3304, 0x1326, 0x8337, 0x4113},
  {0x5102, 0x1326, 0x8337, 0x4113},
  {0x4223, 0x8337, 0x2315, 0x3304, 0x5102},
  {0x6201, 0x4223, 0x8337, 0x2315},
  {0x3304, 0x5102, 0x4223, 0x8337, 0x4113, 0x6201},
  {0x4113, 0x4223, 0x8337},
  {0x4113, 0x2315, 0x3304, 0x1326, 0x4223},
  {0x1326, 0x4223, 0x4113, 0x2315, 0x6201, 0x5102},
  {0x3304, 0x1326, 0x4223, 0x6201},
  {0x5102, 0x1326, 0x4223},
  {0x5102, 0x4113, 0x2315, 0x3304},
  {0x6201, 0x4113, 0x2315},
  {0x6201, 0x3304, 0x5102},
  {}};
